{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/tsarei/Desktop/indeed/tweet2frame/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/tsarei/Desktop/indeed/tweet2frame/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Head from \"next/head\";\nimport { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport domtoimage from \"dom-to-image\";\nimport { saveAs } from \"file-saver\";\nimport Header from \"../components/Header\";\nimport Main from \"../components/Main\";\nimport Settings from \"../components/Settings\";\nimport Footer from \"../components/Footer\";\nimport { Text, Box, Flex, HStack, Button, ButtonGroup } from \"@chakra-ui/react\";\nimport { Card, CardImg, NavItem, NavLink, Nav, Container, Row, Col, UncontrolledTooltip } from \"reactstrap\";\n\nfunction App() {\n  var _useState = useState(\"linear-gradient(106.8deg, rgb(117, 255, 220) 6%, rgb(163, 216, 255) 47.6%, rgb(248, 215, 251) 87.8%)\"),\n      bg = _useState[0],\n      setBg = _useState[1];\n\n  var tweetRef = useRef(null);\n\n  var _useState2 = useState(null),\n      tweetData = _useState2[0],\n      setTweetData = _useState2[1];\n\n  var _useState3 = useState(true),\n      showTime = _useState3[0],\n      setShowTime = _useState3[1];\n\n  var _useState4 = useState(true),\n      showMetrics = _useState4[0],\n      setShowMetrics = _useState4[1];\n\n  var _useState5 = useState(true),\n      showSource = _useState5[0],\n      setShowSource = _useState5[1];\n\n  var _useState6 = useState(0.9),\n      scale = _useState6[0],\n      setScale = _useState6[1];\n\n  var _useState7 = useState(true),\n      hint = _useState7[0],\n      setHint = _useState7[1];\n\n  var _useState8 = useState(false),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(false),\n      error = _useState9[0],\n      setError = _useState9[1];\n\n  var bringTweet = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var url, id, _yield$axios$get, data, status;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              e.preventDefault();\n              setHint(false);\n              setLoading(true);\n              url = e.target.elements.tweetURL.value;\n              id = url.split(\"/\")[5];\n              _context.next = 8;\n              return axios.get(\"/api/tweet/\".concat(id));\n\n            case 8:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n              status = _yield$axios$get.status;\n\n              if (data.message) {\n                setError(true);\n                setLoading(false);\n                setTweetData(null);\n              } else {\n                setLoading(false);\n                setTweetData(data.data);\n                setError(false);\n              }\n\n              _context.next = 19;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](0);\n              setError(true);\n              setLoading(false);\n              setTweetData(null);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 14]]);\n    }));\n\n    return function bringTweet(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var convert = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(format) {\n      var node, scale, dataUrl, style, param;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              node = tweetRef.current;\n              scale = 2;\n              style = {\n                transform: \"scale(2)\",\n                transformOrigin: \"top left\"\n              };\n              param = {\n                height: node.offsetHeight * scale,\n                width: node.offsetWidth * scale,\n                quality: 1,\n                style: style\n              };\n              _context2.t0 = format;\n              _context2.next = _context2.t0 === \"png\" ? 7 : _context2.t0 === \"jpeg\" ? 12 : _context2.t0 === \"svg\" ? 17 : 22;\n              break;\n\n            case 7:\n              _context2.next = 9;\n              return domtoimage.toPng(node, param);\n\n            case 9:\n              dataUrl = _context2.sent;\n              saveAs(dataUrl, \"\".concat(new Date().toJSON(), \".\").concat(format));\n              return _context2.abrupt(\"return\");\n\n            case 12:\n              _context2.next = 14;\n              return domtoimage.toJpeg(node, param);\n\n            case 14:\n              dataUrl = _context2.sent;\n              saveAs(dataUrl, \"\".concat(new Date().toJSON(), \".\").concat(format));\n              return _context2.abrupt(\"return\");\n\n            case 17:\n              _context2.next = 19;\n              return domtoimage.toSvg(node, param);\n\n            case 19:\n              dataUrl = _context2.sent;\n              saveAs(dataUrl, \"\".concat(new Date().toJSON(), \".\").concat(format));\n              return _context2.abrupt(\"return\");\n\n            case 22:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function convert(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var propsForSettings = {\n    showTime: showTime,\n    setShowTime: setShowTime,\n    showMetrics: showMetrics,\n    setShowMetrics: setShowMetrics,\n    showSource: showSource,\n    setShowSource: setShowSource,\n    scale: scale,\n    setScale: setScale,\n    convert: convert,\n    bg: bg,\n    setBg: setBg\n  };\n  var flex = {\n    base: \"column\",\n    lg: \"row\"\n  };\n  return /*#__PURE__*/_jsxs(Box, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Get beautiful tweets\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        type: \"image/svg+xml\",\n        href: \"/favicon.svg\"\n      })]\n    }), /*#__PURE__*/_jsx(Header, {\n      bringTweet: bringTweet\n    }), /*#__PURE__*/_jsxs(Flex, {\n      my: \"16\",\n      direction: flex,\n      p: \"4\",\n      children: [/*#__PURE__*/_jsx(Main, {\n        tweetRef: tweetRef,\n        bg: bg,\n        scale: scale,\n        hint: hint,\n        loading: loading,\n        error: error,\n        tweetData: tweetData,\n        showTime: showTime,\n        showMetrics: showMetrics,\n        showSource: showSource\n      }), !hint && /*#__PURE__*/_jsx(Settings, {\n        props: propsForSettings\n      })]\n    }), /*#__PURE__*/_jsxs(HStack, {\n      children: [/*#__PURE__*/_jsx(Button, {\n        colorScheme: \"facebook\",\n        leftIcon: /*#__PURE__*/_jsx(FaFacebook, {}),\n        children: \"Facebook\"\n      }), /*#__PURE__*/_jsx(Button, {\n        colorScheme: \"twitter\",\n        leftIcon: /*#__PURE__*/_jsx(FaTwitter, {}),\n        children: \"Twitter\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"footer\", {\n      children: [/*#__PURE__*/_jsx(Text, {\n        px: \"1rem\",\n        className: \"i\",\n        color: \"blue.200\",\n        fontSize: \"lg\",\n        children: \"Thank you for supporting us!\"\n      }), /*#__PURE__*/_jsx(Text, {\n        px: \"1rem\",\n        className: \"i\",\n        color: \"gray.500\",\n        fontSize: \"lg\",\n        isTruncated: true,\n        children: \"Let's get in touch on any of these platforms.\"\n      }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsxs(Text, {\n        px: \"1rem\",\n        className: \"i\",\n        color: \"gray.500\",\n        fontSize: \"lg\",\n        children: [\"Made with Love \\uD83D\\uDC9C by\", \" \", /*#__PURE__*/_jsx(\"a\", {\n          href: \"https://reactjs.org/\",\n          rel: \"noreferrer\",\n          target: \"_blank\",\n          children: \"ReactJs\"\n        }), \". Check out on\", \" \", /*#__PURE__*/_jsx(\"a\", {\n          href: \"https://github.com/th-rpy\",\n          rel: \"noreferrer\",\n          target: \"_blank\",\n          children: \"Github\"\n        }), \".\"]\n      })]\n    })]\n  });\n}\n\nexport default App;","map":null,"metadata":{},"sourceType":"module"}